<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Editor</title>
  <style type="text/css" media="screen">

	.ace_editor {
		border: 1px solid lightgray;
		margin: auto;
		height: 200px;
		width: 80%;
	}
	.scrollmargin {
		height: 80px;
        text-align: center;
	}
    </style>
</head>
<body> 

<style>
textarea {
  width: 100%;
}
</style>
<form action="test.php" method="post" >
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.9/ace.js"></script>-->
<!--<script src="../src/ace.js"></script>-->
<script src="/ace-builds/src/ace.js"></script>
<textarea name="scadcode" data-editor="xml" data-gutter="1" rows="15">
module testcube(){
 cube([40,23,12]);
}
</textarea>
<br>
<input type=submit>

	<script>
// Hook up ACE editor to all textareas with data-editor attribute
$(function() {
  $('textarea[data-editor]').each(function() {
    var textarea = $(this);
    var mode = textarea.data('editor');
    var editDiv = $('<div>', {
      position: 'absolute',
      width: textarea.width(),
      height: textarea.height(),
      'class': textarea.attr('class')
    }).insertBefore(textarea);
    textarea.css('display', 'none');
    var editor = ace.edit(editDiv[0]);
    editor.renderer.setShowGutter(textarea.data('gutter'));
    editor.getSession().setValue(textarea.val());
    editor.setKeyboardHandler("ace/keyboard/vscode");
    editor.setAutoScrollEditorIntoView(true);
    editor.getSession().setMode("ace/mode/scad");
    editor.setTheme("ace/theme/tomorrow");
    // copy back to textarea on form submit...
    textarea.closest('form').submit(function() {
      textarea.val(editor.getSession().getValue());
    })
  });
});
	</script>
</form>

<br>
</body>
</html>
